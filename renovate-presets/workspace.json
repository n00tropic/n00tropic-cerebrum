{
	"$schema": "https://docs.renovatebot.com/renovate-schema.json",
	"timezone": "Africa/Johannesburg",
	"dependencyDashboard": true,
	"configMigration": true,
	"lockFileMaintenance": {
		"enabled": true,
		"schedule": [
			"before 5am on monday"
		]
	},
	"packageRules": [
		{
			"matchPackageNames": [
				"aws-sdk",
				"@aws-sdk/*"
			],
			"groupName": "aws-sdk"
		},
		{
			"matchPackageNames": [
				"react",
				"react-dom",
				"@types/react",
				"@types/react-dom"
			],
			"groupName": "react monorepo"
		},
		{
			"matchPackageNames": [
				"eslint",
				"prettier",
				"typescript",
				"biome",
				"@biomejs/*"
			],
			"groupName": "linters & formatters"
		},
		{
			"matchPackageNames": [
				"vitest",
				"@vitest/*",
				"jsdom",
				"@testing-library/*"
			],
			"groupName": "testing library"
		},
		{
			"description": "Automerge non-major updates",
			"matchUpdateTypes": [
				"minor",
				"patch",
				"pin",
				"digest"
			],
			"automerge": true,
			"platformAutomerge": true
		}
	],
	"regexManagers": [
		{
			"fileMatch": [
				"^platform/n00-cortex/data/toolchain-manifest\\.json$"
			],
			"matchStrings": [
				"\"node\":\\s*{\\s*\"version\":\\s*\"(?<currentValue>.*?)\"",
				"\"pnpm\":\\s*{\\s*\"version\":\\s*\"(?<currentValue>.*?)\"",
				"\"python\":\\s*{\\s*\"version\":\\s*\"(?<currentValue>.*?)\"",
				"\"go\":\\s*{\\s*\"version\":\\s*\"(?<currentValue>.*?)\"",
				"\"trunk\":\\s*{\\s*\"version\":\\s*\"(?<currentValue>.*?)\""
			],
			"depNameTemplate": "toolchain-{{depName}}",
			"datasourceTemplate": "github-tags"
		},
		{
			"description": "Update Node version in manifest",
			"fileMatch": [
				"^platform/n00-cortex/data/toolchain-manifest\\.json$"
			],
			"matchStrings": [
				"\"node\":\\s*{\\s*\"version\":\\s*\"(?<currentValue>.*?)\""
			],
			"depNameTemplate": "node",
			"datasourceTemplate": "node-version"
		},
		{
			"description": "Update pnpm version in manifest",
			"fileMatch": [
				"^platform/n00-cortex/data/toolchain-manifest\\.json$"
			],
			"matchStrings": [
				"\"pnpm\":\\s*{\\s*\"version\":\\s*\"(?<currentValue>.*?)\""
			],
			"depNameTemplate": "pnpm",
			"datasourceTemplate": "npm"
		},
		{
			"description": "Update python version in manifest (using docker as proxy or manual)",
			"fileMatch": [
				"^platform/n00-cortex/data/toolchain-manifest\\.json$"
			],
			"matchStrings": [
				"\"python\":\\s*{\\s*\"version\":\\s*\"(?<currentValue>.*?)\""
			],
			"depNameTemplate": "python",
			"datasourceTemplate": "docker",
			"packageNameTemplate": "python"
		}
	]
}
